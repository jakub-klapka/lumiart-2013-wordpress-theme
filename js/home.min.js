(function(b){var d={init:function(a){this.list=b(a);this.lis=this.list.find("li");this.number_of_visible="mobile"===window.lumi_responsive_current?1:2;this.number_of_pages=Math.ceil(this.lis.length/this.number_of_visible);this.active_page=1;this.initial_dom_processing();this.bindEvents()},bindEvents:function(){var a=this;this.next_button.on("click.lumi_testimonials",function(){a.active_page<a.number_of_pages&&a.changePage(a.active_page+1)});this.prev_button.on("click.lumi_testimonials",function(){1<
a.active_page&&a.changePage(a.active_page-1)})},initial_dom_processing:function(){this.lis.filter(":lt("+this.number_of_visible+")").show().addClass("visible");var a=b('<div class="testimonials_pagination"></div>');this.prev_button=b('<button class="button prev">&lt;<div class="left_glow"></div><div class="right_glow"></div></button>');a.append(this.prev_button);var c=b('<div class="page"><span class="current">1</span>&nbsp;/&nbsp;'+this.number_of_pages+"</div>");this.pagination_current_page=c.find(".current");
a.append(c);this.next_button=b('<button class="button next">&gt;<div class="left_glow"></div><div class="right_glow"></div></button>');a.append(this.next_button);this.list.after(a)},changePage:function(a){var c=this;this.lis.filter(".visible").removeClass("visible").fadeOut(300,function(){var b=(a-1)*c.number_of_visible;c.lis.slice(b,b+c.number_of_visible).addClass("visible").fadeIn(300);c.pagination_current_page.html(a);c.active_page=a})},destroy:function(){this.next_button.off("click.lumi_testimonials");
this.prev_button.off("click.lumi_testimonials");b(".testimonials_pagination").remove();this.lis.hide();this.lis.removeClass("visible")}};b(document).ready(function(){b(".testimonials_list").each(function(){var a=Object.create(d);a.init(this);var c=this;b(document).on("lumi_responsive_change",function(){a.destroy();a.init(c)})})})})(jQuery);
